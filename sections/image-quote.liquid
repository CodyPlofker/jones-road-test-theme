{%- assign config = section.settings -%}

<div id="{{ config.section_id }}" class="image-quote" style="background: {{ config.background }}; color: {{ config.color }};">
  {%- if config.image != blank -%}
    <div class="image-quote__image">
      <div class="aspect-7-8">
        {{ config.image | image_url: width: 1140 | image_tag: width: 570, class: 'aspect-child', loading: 'lazy' }}
      </div>
    </div>
  {%- endif -%}
  <div class="image-quote__content">
    <div>
      {%- if config.heading != blank -%}
        <h2 class="image-quote__heading">{{ config.heading }}</h2>
      {%- endif -%}
      {%- if config.quote != blank -%}
        <p class="image-quote__quote">{{ config.quote }}</p>
      {%- endif -%}
    </div>
    {%- if config.signature != blank -%}
      <div class="image-quote__signature">
        {{ config.signature | image_url: width: 310 | image_tag: width: 155, loading: 'lazy' }}
      </div>
    {%- endif -%}
  </div>
</div>

{% schema %}
  {
    "name": "Image & Quote",
    "settings": [
      {
        "type": "header",
        "content": "Settings"
      },
      {
        "type": "text",
        "id": "section_id",
        "label": "Section ID",
        "info": "Used to create a permalink to the section. Must be unique to the section, all lower-case, with hyphens instead of spaces.",
        "default": "image-quote"
      },
      {
        "type": "color",
        "id": "background",
        "label": "Background",
        "default": "#000"
      },
      {
        "type": "color",
        "id": "color",
        "label": "Text",
        "default": "#fff"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "textarea",
        "id": "quote",
        "label": "Quote"
      },
      {
        "type": "image_picker",
        "id": "signature",
        "label": "Signature"
      }
    ],
    "presets": [{ "name": "Image & Quote" }]
  }
{% endschema %}