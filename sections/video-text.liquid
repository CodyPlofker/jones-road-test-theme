{%- assign config = section.settings -%}

<div 
  id="video-text-{{ section.id }}"
  class="video__text"
  style="background: {{ config.background }};"
  data-component="mediaVideo"
>
  <div class="video__text-inner">
    <div class="video__text-text">
      {%- if config.heading != blank -%}
        <h2 
          class="video__text-heading {% if config.heading_highlight %} highlight {% endif %}"
          style="--highlight: {{ config.highlight_color }}"
        >
          <span>{{ config.heading }}</span>
        </h2>
      {%- endif -%}
      {%- if config.description != blank -%}
        <div class="video__text-description text-underline">
          {{ config.description }}
        </div>
      {%- endif -%}
    </div>
    <div class="video__text-video">
      {%- if config.video != blank -%}
        <div class="media__video video__text-video--wrapper js-mediaVideo" data-autoplay="false">
          {{ config.video | video_tag: autoplay: false, playsinline: true, disablepictureinpicture: true, disableremoteplayback: true  }}
          <div class="media__video-play {{ class }}">
            <svg width="84" height="84" viewBox="0 0 84 84" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="42" cy="42" r="39.5" fill="#A0A0A0" fill-opacity="0.5" stroke="white" stroke-width="5"/>
              <path d="M29 19L64 42.5L29 66V19Z" fill="white"/>
            </svg>
          </div>
        </div>
      {%- endif -%}
    </div>
  </div>
</div>

{%- schema -%}
  {
    "name": "Video + Text",
    "tag": "section",
    "settings": [
      {
        "type": "header",
        "content": "Settings"
      },
      {
        "type": "color",
        "id": "background",
        "label": "Background",
        "default": "#fff"
      },
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "video",
        "id": "video",
        "label": "Video"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "checkbox",
        "id": "heading_highlight",
        "default": true,
        "label": "Heading Highlight"
      },
      {
        "type": "color",
        "id": "highlight_color",
        "label": "Highlight Color",
        "default": "#F6F2EB"
      },
      {
        "type": "richtext", // EE
        "id": "description",
        "label": "Description"
      }
    ],
    "presets": [{ "name": "Video + Text" }]
  }
{%- endschema -%}